(this["webpackJsonpweather-react-redux"]=this["webpackJsonpweather-react-redux"]||[]).push([[0],{22:function(e,t,r){},23:function(e,t,r){},24:function(e,t,r){},31:function(e,t,r){"use strict";r.r(t);var c=r(1),a=r(0),s=r(4),n=r.n(s),i=(r(22),r(10)),o=r(11),h=r(16),l=r(15),u=(r(23),r(24),r(5)),d="WEATHER_FETCH_DATA_TODAY_SUCCESS",p="WEATHER_FETCH_DATA_WEEK_SUCCESS",j="WEATHER_FETCH_IS_START",b="WEATHER_FETCH_ERROR";function w(e){return{type:d,today:e}}function m(e){return{type:p,week:e}}function f(e){return{type:j,isFetchStart:e}}function O(e){return{type:b,isFetchError:e}}var x=function(e){Object(h.a)(r,e);var t=Object(l.a)(r);function r(){var e;Object(i.a)(this,r);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).getWeatherCity=function(t){t.preventDefault(),e.props.fetchData("https://api.openweathermap.org/data/2.5/forecast?q=".concat(e.searchInput.value,"&appid=68973503f94a54422e17c88b2935ebce&lang=ru&units=metric"))},e}return Object(o.a)(r,[{key:"render",value:function(){var e=this,t={day:"numeric",month:"numeric",year:"numeric"};return Object(c.jsxs)("div",{className:"weather-container",children:[Object(c.jsx)("h1",{className:"title",children:"\u041f\u043e\u0433\u043e\u0434\u0430"}),Object(c.jsxs)("form",{className:"search-form",onSubmit:this.getWeatherCity,children:[Object(c.jsx)("label",{className:"search-title",children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430\u0441\u0435\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u043f\u0443\u043d\u043a\u0442\u0430:"}),Object(c.jsxs)("div",{className:"search-field",children:[Object(c.jsx)("input",{className:"search-input",type:"text",ref:function(t){e.searchInput=t}}),Object(c.jsx)("button",{className:"search-button",type:"submit",children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})]}),this.props.isFetchStart&&Object(c.jsx)("div",{className:"preloader"}),this.props.isFetchError&&Object(c.jsx)("h1",{className:"error-block",children:this.props.isFetchError}),this.props.today&&this.props.week&&Object(c.jsxs)("div",{className:"weather-info",children:[Object(c.jsxs)("div",{className:"weather-card-now",children:[Object(c.jsx)("p",{className:"weather-card-now__title",children:"\u041f\u043e\u0433\u043e\u0434\u0430 \u0441\u0435\u0439\u0447\u0430\u0441:"}),Object(c.jsxs)("p",{className:"weather-card-now__text",children:[Math.round(this.props.today.main.temp),"\xb0, \u043e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a ",Math.round(this.props.today.main.feels_like),"\xb0"]}),Object(c.jsx)("div",{className:"wi wi-100 icon-".concat(this.props.today.weather[0].icon)}),Object(c.jsx)("p",{className:"weather-card-now__text",children:this.props.today.weather[0].description}),Object(c.jsxs)("p",{className:"weather-card-now__text",children:["\u0412\u0435\u0442\u0435\u0440: ",this.props.today.wind.speed," \u043c/\u0441, \u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",this.props.today.main.humidity,"%, \u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435: ",this.props.today.main.pressure," \u043c\u043c \u0440\u0442. \u0441\u0442."]})]}),Object(c.jsx)("ul",{className:"weather-cards-week",children:this.props.week.map((function(e,r){return Object(c.jsxs)("li",{className:"weather-card-week",children:[Object(c.jsx)("p",{className:"weather-card-week__title",children:new Date(e.dt_txt).toLocaleString("ru",t)}),Object(c.jsxs)("p",{className:"weather-card-week__text",children:["\u0422\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430: ",Math.round(e.main.temp),"\xb0 "]}),Object(c.jsxs)("p",{className:"weather-card-week__text",children:["\u041e\u0449\u0443\u0449\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u043a: ",Math.round(e.main.feels_like),"\xb0"]}),Object(c.jsx)("div",{className:"wi wi-100 icon-".concat(e.weather[0].icon)}),Object(c.jsx)("p",{className:"weather-card-week__text",children:e.weather[0].description}),Object(c.jsxs)("p",{className:"weather-card-week__text",children:["\u0412\u0435\u0442\u0435\u0440: ",e.wind.speed," \u043c/\u0441"]}),Object(c.jsxs)("p",{className:"weather-card-week__text",children:["\u0412\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c: ",e.main.humidity,"%"]}),Object(c.jsxs)("p",{className:"weather-card-week__text",children:["\u0414\u0430\u0432\u043b\u0435\u043d\u0438\u0435: ",e.main.pressure," \u043c\u043c \u0440\u0442. \u0441\u0442."]})]},r)}))})]})]})}}]),r}(a.Component),_=Object(u.b)((function(e){return e}),(function(e){return{fetchData:function(t){return e(function(e){return function(t){t(f(!0)),t(O(null)),fetch(e).then((function(e){if(t(w(null)),t(m(null)),200!==e.status)throw new Error(e.status);return e.json()})).then((function(e){t(w(e.list[0])),t(m(e.list.filter((function(e){return e.dt_txt.includes("12:00:00")}))))})).finally((function(e){t(f(!1))})).catch((function(e){t(O(function(e){switch(e){case"400":return"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430";case"401":return"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u0442\u043e\u043a\u0435\u043d";case"404":return"\u0413\u043e\u0440\u043e\u0434 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d";case"Failed to fetch":return"\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u043f\u0440\u043e\u0441\u0430";default:return"\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430"}}(e.message)))}))}}(t))}}}))(x);var y=function(){return Object(c.jsx)(_,{})},N=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,32)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,n=t.getTTFB;r(e),c(e),a(e),s(e),n(e)}))},E=r(3),v=r(13),k=r(14),F=r(2),S={};var T=Object(E.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(F.a)(Object(F.a)({},e),{},{today:t.today});case p:return Object(F.a)(Object(F.a)({},e),{},{week:t.week});case j:return Object(F.a)(Object(F.a)({},e),{},{isFetchStart:t.isFetchStart});case b:return Object(F.a)(Object(F.a)({},e),{},{isFetchError:t.isFetchError});default:return e}}),Object(k.composeWithDevTools)(Object(E.applyMiddleware)(v.a)));n.a.render(Object(c.jsx)(u.a,{store:T,children:Object(c.jsx)(y,{})}),document.getElementById("root")),N()}},[[31,1,2]]]);
//# sourceMappingURL=main.6ecc16ba.chunk.js.map